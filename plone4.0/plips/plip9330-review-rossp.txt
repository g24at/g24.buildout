Status
------

I'm very much in favor of this PLIP being completed under it's current
approach since it reaps the rewards of some fairly low hanging fruit.
But obviously it needs to work.  If the implementer can fix the
self-reg problem, and address most of the "Needs Work" bits below, I'd
eagerly vote +1 on merging.

For now, I'm -1, but very reluctantly.

Review Process
--------------

- bin/buildout -vN -c plips/plip9330-*.cfg
- Ran tests, generated a diff against failures from plipbase.cfg

- Enable self-reg and set passwd in security cp
- Try to register as anon, !got unauthorized!
- Try to add a user using the "Users Overview", group checkbox
  appears, user is added to the group, Yay!

- review the branch diff

Needs Work
----------

- Obey "Many Groups"

It just occurred to me that for sites with large numbers of groups,
this can become a problem.  As such, I think the groups field should
be excluded when the "Many Groups" checkbox is checked on the settings
tab of the "Users and Groups" CP.

- breaks join_form

When I checked the self-reg box on the security control panel and then
clicked the "Register" link as anonymous, I get Unauthorized.  I'm
guessing this is because of the "getGroupIds" call added to
join_form.  Those tal:defines should be moved such that they're
covered by the tal:condition="python: checkPermission('Manage portal',
here)".

- XXX incomplete auto-groups support

There's an XXX comment in join_form.cpt concerning a hard-coded
exception for AuthenticatedUsers and a comment that an actual list of
auto-groups should be used.  I couldn't have said it better myself,
lets do it.  :)

- Use group title

Doesn't appear to use the group title for the option labels, just the
group id.  Should probably look up the group title and use that
instead.

- groups:list (take advantage of the zope publisher)

The name for the form elements uses "group.*".  Instead we should use
"groups:list" and take advantage of the fact that the Zope publisher
will then provide us with request.form['groups'] = ['Administrators',
'Reviewers'...] rather than parsing it ourselves as this PLIP
currently does it in register.cpy.

- checkbox or multi-select

If there are lots of groups, the checkbox should change to a
multi-select.

Notes
-----

This PLIP will require coordinating with PLIP 9310 if both are
accepted since the latter introduces a new registration form.
