Review comments on PLIP 9311 (usre actions UI) by Raphael Ritz
==============================================================

Sept 16, 2009

checked out 
https://svn.plone.org/svn/plone/buildouts/plone-coredev/branches/4.0
at r29734

activated the PLIP by calling buildout -c plips/plip9311....


Observations
------------

- Zope starts in debug mode

- Plone sites can be created

- users can sign up an log in

- The 'My Folder' action is shown twice (once with a fake URL
  'whats-the-url'???) -> the portal membership tool has a method
  'getHomeFolder' that should give the correct URL.

- The default dashboard only showing news, events, and recent changes 
  (for regular users) can be quite empty IMHO.

- Portrait images are not saved.
  Note that they have always been treated special by Plone's 
  memberdata tool.

- When allowing users to set their passwords immediately
  they can also change it rigth away (avoiding the pwreset tool)
  but this results in 

  2009-09-16 17:58:52 ERROR Zope.SiteErrorLog 1253116732.460.290691586984 http://127.0.0.1:8080/plip9311/@@change_password
Traceback (innermost last):
  Module ZPublisher.Publish, line 127, in publish
  Module ZPublisher.mapply, line 77, in mapply
  Module ZPublisher.Publish, line 47, in call_object
  Module zope.formlib.form, line 781, in __call__
  Module Products.Five.formlib.formbase, line 52, in update
  Module zope.formlib.form, line 748, in update
  Module zope.formlib.form, line 691, in handleSubmit
  Module zope.formlib.form, line 728, in validate
  Module zope.formlib.form, line 344, in getWidgetsData
  Module zope.app.form.browser.widget, line 329, in getInputValue
  Module zope.schema._bootstrapfields, line 331, in validate
  Module zope.schema._bootstrapfields, line 138, in validate
  Module zope.schema._bootstrapfields, line 263, in _validate
  Module zope.schema._bootstrapfields, line 167, in _validate
  Module plone.app.users.browser.password, line 34, in checkCurrentPassword
  Module Products.PlonePAS.tools.membership, line 507, in testCurrentPassword
  Module Products.PlonePAS.tools.membership, line 518, in _findUsersAclHome
  Module Products.PluggableAuthService.PluggableAuthService, line 223, in getUserById
  Module Products.PluggableAuthService.PluggableAuthService, line 742, in _findUser
  Module Products.PlonePAS.plugins.role, line 115, in getRolesForPrincipal
AttributeError: REQUEST

 Probably not related to this PLIP but anyway.


Preliminary Conclusion
----------------------

Seeing that the PLIP authors themselves have a TODO list and
further ideas in their comments as well as seeing under 'Whoops'
that they stopped working on it because of the review I strongly
encourage to first address the know issues and notify us again
for further reviewing.

