PLIP 9315: New theme for Plone 4
================================

PLIP ticket: https://dev.plone.org/plone/ticket/9315

Review #2 by Rob Gietema (rob@fourdigits.nl, Rob|4D on irc)

The PLIP was reviewed on Mac OS X 10.5.8 using python 2.6.1 and Firefox 3.5.2.


Review steps
------------

- Run buildout using the plip9315-new-theme.cfg file.

- Review of the plonetheme.sunburst package contents.

- Used http://jigsaw.w3.org/css-validator/validator to check if all css was
  valid.

- Started instance, created site, installed sunburst theme.

- Validated html of the front-page.

- Validated Accessibility using the checklist at:
  http://www.w3.org/TR/WCAG10/full-checklist.html

- Review of the design and usability.


Notes and observations
----------------------

- Skin folders are named: plonetheme_sunburst_custom_images,
  plonetheme_sunburst_custom_templates and plonetheme_sunburst_styles. Adding
  "custom" to first two doesn't seem to be logical. Better use
  plonetheme_sunburst_images and plonetheme_sunburst_templates.

- setuphandlers.py is empty but is called from the import_steps. If this file
  isn't used better remove it.

- templates and viewlets.py in the browser folder seem to be unused and should
  be removed.

- jsregistry.xml and viewlets.xml are empty, better remove them.

- All css validated except main.css. The errors are caused by the use of rounded
  corners and rgba colors. Since this will become the default theme I suggest
  sticking to the current CSS standards and move these extra features to a
  separate css file so the integrator can choose to use it or not.

- member.css uses a lot of unneeded !important statements. These statement make
  css debugging a lot harder.

- Html validation failed with 20 errors and 32 warnings. Highlights are:

  - No doctype specified (as noted in the plip).

  - No character encoding specified (should be the first meta).

  - Search form uses "name" attribute.

  - Label of searchbox not inside block element.

  - History form uses input which is not inside block element.

  - All html5 tags are not recognized.

- The following issues do not meet the accessibility requirements:

  - Not all images and symbols have a text equivalent (alt tag)

  - When javascript is disabled the "Display", "Add new" and "State" menu's are
    visible.

  - Some values are specified using 'px' where they should be specified as a
    relative value like em or %.

  - Names are used for color, where numbers should be used see:
    http://www.w3.org/TR/WCAG10-CSS-TECHS/#style-color-contrast

  - Text like Description and discreet could use a bit more contrast.

  - Inline style elements are used, where classes should be used.

  - For printing an href="javascript.print()" is used. An alternative for non-
    javascript users should be available.

  - sup tags are used where css should be used. Sub and sup can only be used
    if the meaning of the content is different not for presentation's sake. see:
    http://dev.w3.org/html5/spec/Overview.html#the-sub-and-sup-elements

- h1 - h6 tags should be used for document structure and no levels should be
  skipped. Like the current theme this theme also uses h5 tags without using h2
  till h4.

- Even more so then the current theme the contentview tabs and the formtabs
  look the same. Contentview tabs make you 'leave' the current page and the
  formtabs keep you on the same page. This is confusing for users to see
  different behavior for controls who look the same.

- The PLIP states: "Keep the theme color-neutral (black, white, grays)" but I
  see green and blue are used which are not color-neutral.

- Building the theme using html 5 seems like a good idea but it does generate
  some issues:

  - The html doesn't validate.

  - Since older browsers don't support the html 5 tags the html needs to contain
    both the html 5 tags and the 'old' div tags making the html a lot less
    clean.

  - Only the main template is updated using html 5 tags. All other pages,
    viewlets, portlets etc don't use the html 5 tag which leads to
    inconsistancy.

  Building the theme using xhtml 1 strict seems like a more stable way to go.
  Maybe add the html 5 in a next release (or make it a configuration option).

- Like mentioned in the PLIP notes some features are still missing so can't be
  tested, like RTL, print, mobile etc.


Conclusion
----------

Getting there, still needs some work to be completed.
