PLIP 9311: Clean up user related actions UI
==============================================
This PLIP is ready for review.
Plip ticket: https://dev.plone.org/plone/ticket/9311

To do
-----
- Add tests in plone.app.users
- In the user-data form portrait storage isn't working, needs 
  some formlib black magic...
- The personal folder link isn't working, needs correct url
- plone.personal is moved to the top, css styling needs review/updating
- Status messages in the forms won't work
- Remove edit tab from author page template, this is absolete

Futher ideas
------------
- The author (public) profile isn't accessible anymore from the personal 
  preferences. There needs to be an accessor to access the author profile.
- The account config panel has three tabs. Each tab is a seperate form 
  with it's own name (like @@user_data). It's much cleaner to access the 
  tabs/forms like {mysite}/account/{personal-prefs/userdata/password}.

Summary of changes
------------------
- The viewlet plone.personalbar moved to the top of the page

- plone.personalbar viewlet has four accessors:

  Clickable login name: takes the user to his/her dashboard.
  Account: takes the user to the config panel with three tabs. 
  My folder: in case the user has a personal folder
  Login/logout: allows the user to login or logout

- The dashboard doesn't have any user settings anymore. Removed change
  password, personal prefs and profile accessors.

- The account config panel has three tabs.
  
  Personal preferences: Where a user can set language, favorite editor, etc.
  User data: Where user can administer personal data, like surname, email address, etc.
  Change password: Where user can change password

- All old page templates involving editing user data are removed from CMFPlone.


Needed documentation changes
----------------------------
Introducing this plip there are new ways for users to edit their info. The old
personalize form are seperate forms for user data and preferences. The dashboard
doesn't contain any accessors to edit user info. 

Backwards compatibility
-----------------------
The user data is still stored in the same location. Only the user related UI actions
are different.

The link to the old page template to modify user data, called 'personalize_form', is 
gone. So any link pointing to this url need to point to the new form.


Whoops
------
kcleong 27 aug: Over the past few days I've been commiting improvements to this plip.
Most of it is fixing broken stuff. I asked on irc and learned that it's better not
to change the plip during reviewing. My excuses for that, I keep my finger off the commit 
during reviewing.

I've changed/improved the following:
- removed edit tab from author page template
- removed account-tabs.pt
- Added  "Username listed in searches" to personal prefs
- Editing of shortnames is conditional on the portal property
- Added url and e-mail validators to user data form
- Added permissions to actions

Update for final implementation review
======================================
Most issues mentoined in "To do", "Further Ideas" and "To do from plip review" are solved.
The following issues aren't solved:

- Review css/styling of plone.personalbar. It's looks okay but perhaps it's an good idea that 
  someone with more styling knowledge can give an opinion
- Status messages in form won't work. I think this isn't related to the forms in this plip because
  I'm not seeing messages in other forms (ie. control panel) when submitting/cancelling.
- There's a property in the membershiptool called 'portal_skin'. I think it isn't used any more and
  that it is deprecated. Is this true?
- The isURL validator isn't very user friendly because is needs http:// in front of each link. 
  I agree on this issue but it's outside the scope of this plip to change validators.

  
Credits
-------

Duco Dokter
Kim Chee Leong
Wietze Helmantel

