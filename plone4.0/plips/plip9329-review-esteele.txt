PLIP 9329: Manage actions through Plone
=======================================

Review #1 by Eric Steele, on behalf of the FWT (ems174@psu.edu, esteele on irc)

PLIP was reviewed on Mac OS X 10.5.7 using python 2.6.2 and Firefox 3.5.2.

Review steps
------------

 - Ran buildout using the plip9329-manage-actions-ttp.cfg file.

 - Ran tests for plone.app.controlpanel
 
 - Ran test coverage for plone.app.controlpanel
 
 - Visual inspection of the code
 
 - Start Zope, create new Plone site, view form at @@actions-controlpanel
 
Notes and observations
---------------------- 

* Visited @@actions-controlpanel to view the control panel form since it's not
  hooked in via the control panel yet.

* Adding an action with a bad url resulted in:

({'category': 'user', 'available': True, 'description': u'None', 'icon': None,
'title': u'blah', 'url': , 'visible': True, 'allowed': True, 'link_target':
'', 'id': 'blah'}, 'url') (Also, the following error occurred while attempting
to render the standard error message, please see the event log for full
details: ({'category': 'user', 'available': True, 'description': u'None',
'icon': None, 'title': u'blah', 'url': <Products.CMFCore.Expression.Expression
object at 0x5facb30>, 'visible': True, 'allowed': True, 'link_target': '',
'id': 'blah'}, 'url'))

 and prevented me from getting back to any part of the form, or the Plone site
for that matter (though this happens when making the same mistake in
portal_actions). So there really needs to be some validation and prevention
from saving bad data.

* Would like to see more inline help text in the forms.

* I know that the ZMI "icon" field is a string, but I think most users would
  wish/expect to be able to upload from this form.

* Visibility might be better shown with something other than a True/False
  string. May even be something they'd want to toggle right from the actions
  listing.

* The code is sane, no complaints there. Could use more tests; actions.py is
  at 50% coverage. No unexpected imports.

Conclusions 
-----------

At the moment I'm -.5 on this for 4.0. Does what it says it does, but is
honestly just a reimplementation the UI ugliness of the ZMI tool, but in Plone
instead. A lot of promise here and the intended functionality is well worth
having, but there's much work to be done to get it ready for real-world use.
Most of that would be UI retooling; I'm working on locating a UI team member
to look it over. Proper validation is critical.
